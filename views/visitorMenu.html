<html>
    <head>
        <title>Cofee Shop</title>
        <link rel="stylesheet" href="http://localhost:8080/navBar.css">
    </head>
    <body onload="getMenu()">

        <script>
            function getMenu(){
                var http = new XMLHttpRequest();
                var url = '/getMenu'
                http.open('GET', url, true)
                
                http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

                http.onreadystatechange = function(){
                    if (http.readyState == 4 && http.status == 200){
                        var menu = JSON.parse(this.responseText);

                        var tableEspressos = "<table class='table ' id='Espressos-table'> <th>Beverage</th> <th>Price</th>";
                        var tableLattes = "<table class='table 'id='Lattes-table'> <th>Beverage</th> <th>Price</th>";
                        var tableTeas = "<table class='table ' id='Teas-table'> <th>Beverage</th> <th>Price</th>";
                        var tableBreakfast = "<table class='table table-striped' id='Teas-table'> <th>Beverage</th> <th>Price</th>";

                        for (element in menu){
                            if(menu[element].Type == 'Espressos'){
                                    tableEspressos += "<tr> <td>"+ menu[element].Item+ "<br>"+ menu[element].Description +"</td> <td>$" + menu[element].Price+"</td></tr>";
                            }
                            else if(menu[element].Type == 'Lattes'){
                                tableLattes += "<tr> <td>"+ menu[element].Item+ "<br>"+ menu[element].Description +"</td> <td>$" + menu[element].Price+"</td></tr>";
                            }
                            else if( menu[element].Type == 'Teas'){
                                tableTeas += "<tr> <td>"+ menu[element].Item+ "<br>"+ menu[element].Description +"</td> <td>$" + menu[element].Price+"</td></tr>";
                            }
                            else if (menu[element].Type == 'Breakfast'){
                                tableBreakfast += "<tr> <td>"+ menu[element].Item+ "<br>"+ menu[element].Description +"</td> <td>$" + menu[element].Price+"</td></tr>";
                            }
                        }
                        
                        document.getElementById("Espressos").innerHTML = tableEspressos;
                        document.getElementById("Lattes").innerHTML = tableLattes;
                        document.getElementById("Teas").innerHTML = tableTeas;
                        document.getElementById("Breakfast").innerHTML = tableBreakfast;
                    }
                }
                http.send();

    
            }
        </script>

        <div class="topnav">
            <a class="active" href="http://localhost:8080/visitorMenu">Menu</a>
            <a href="http://localhost:8080/clientLogin">Log In</a>
            <a href="http://localhost:8080/clientLogon">Log On</a>
        </div>

        <div class="container" id="Espressos">
            <p>Espressos</p>
        </div>
        <div class="container" id="Lattes">
            <p>Lattes</p>
        </div>
        <div class="container" id="Teas">
            <p>Teas</p>
        </div>
        <div class="container" id="Breakfast">
            <p>Breakfast</p>
        </div>
    </body>
</html>